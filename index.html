<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>James Totah ‚Äî james.totah.xyz</title>
  <meta name="description" content="James Totah ‚Äî resume and links." />
  <style>
    :root { 
      --bg:#0b1224; --text:#e5e7eb; --muted:#94a3b8; --border:#1f2937; 
      --card:#0f172a; --accent:#22d3ee; --hover:#334155; --success:#10b981;
    }
    [data-theme="light"] {
      --bg:#f8fafc; --text:#1e293b; --muted:#64748b; --border:#e2e8f0; 
      --card:#ffffff; --accent:#0ea5e9; --hover:#cbd5e1; --success:#059669;
    }
    *{box-sizing:border-box} html,body{margin:0;padding:0;height:100%}
    body{font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, Apple Color Emoji, Segoe UI Emoji;
         background: radial-gradient(1200px 700px at 80% 10%, #111827 0%, #0b1224 40%, var(--bg) 100%);
         color:var(--text); line-height:1.5; transition: all 0.3s ease;}
    [data-theme="light"] body {
      background: radial-gradient(1200px 700px at 80% 10%, #f1f5f9 0%, #e2e8f0 40%, var(--bg) 100%);
    }
    a{color:var(--text);text-decoration:none;transition: color 0.2s ease;}
    a:hover{color:var(--accent)}
    .container{max-width:900px;margin:0 auto;padding:28px;opacity:0;animation:fadeIn 0.8s ease forwards;}
    @keyframes fadeIn { to { opacity: 1; } }
    @keyframes slideUp { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
    
    /* Header */
    header{display:flex;align-items:center;gap:14px;margin-bottom:24px;position:relative}
    .avatar{width:52px;height:52px;border-radius:12px;background:linear-gradient(135deg,#1f2937,#0f172a);display:grid;place-items:center;
            border:1px solid var(--border);font-weight:800;transition: transform 0.2s ease;}
    .avatar:hover{transform: scale(1.05);}
    .avatar span{font-size:18px;letter-spacing:1px;color:#cbd5e1}
    .name{font-weight:800;font-size:22px}
    .muted{color:var(--muted);font-size:14px}
    
    /* Theme Toggle */
    .theme-toggle{position:absolute;right:0;top:0;background:transparent;border:1px solid var(--border);
                  border-radius:8px;padding:8px;cursor:pointer;color:var(--text);transition:all 0.2s ease;font-size:16px;}
    .theme-toggle:hover{border-color:var(--hover);transform:scale(1.05);}
    
    /* Cards */
    .card{background:rgba(255,255,255,0.02);border:1px solid var(--border);border-radius:14px;padding:18px;margin-top:16px;
          transition:transform 0.2s ease, border-color 0.2s ease, box-shadow 0.2s ease;animation:slideUp 0.6s ease forwards;}
    [data-theme="light"] .card{background:var(--card);box-shadow:0 1px 3px rgba(0,0,0,0.1);}
    .card:hover{transform:translateY(-2px);border-color:var(--hover);box-shadow:0 8px 25px rgba(0,0,0,0.15);}
    h2{font-size:18px;margin:0 0 8px;color:var(--accent);}
    
    /* Stats Bar */
    .stats-bar{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:12px;margin-bottom:20px;}
    .stat-item{text-align:center;padding:12px;background:rgba(255,255,255,0.02);border:1px solid var(--border);border-radius:10px;transition:all 0.2s ease;}
    .stat-item:hover{border-color:var(--accent);transform:translateY(-1px);}
    .stat-number{font-size:20px;font-weight:700;color:var(--accent);display:block;}
    .stat-label{font-size:11px;color:var(--muted);text-transform:uppercase;letter-spacing:0.5px;}
    
    /* Resume */
    .resume-item{display:flex;justify-content:space-between;gap:10px;padding:10px 0;border-bottom:1px dashed #233046;
                 transition:padding 0.2s ease;}
    .resume-item:hover{padding-left:8px;}
    .resume-item:last-child{border-bottom:none}
    .left strong{display:block}
    .skills{display:flex;gap:10px;flex-wrap:wrap;margin-top:8px}
    .chip{border:1px solid var(--border);border-radius:999px;padding:6px 10px;font-size:12px;color:#cbd5e1;
          transition:all 0.2s ease;cursor:default;}
    .chip:hover{border-color:var(--accent);color:var(--accent);transform:scale(1.02);}
    
    /* Links */
    .links{display:grid;grid-template-columns:repeat(auto-fit, minmax(180px,1fr));gap:12px;margin-top:8px}
    .link{display:flex;align-items:center;gap:10px;border:1px solid var(--border);border-radius:12px;padding:12px;
          transition:transform .12s ease, border-color .12s ease, background-color 0.2s ease}
    .link:hover{transform:translateY(-2px);border-color:var(--hover);background:rgba(255,255,255,0.05);}
    .icon{width:18px;height:18px;opacity:.85;transition:opacity 0.2s ease;}
    .link:hover .icon{opacity:1;}
    
    /* GitHub Repos */
    .github-repos{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:16px;margin-top:12px}
    .repo-card{border:1px solid var(--border);border-radius:12px;padding:16px;background:rgba(255,255,255,0.02);
               transition:all 0.2s ease;cursor:pointer;}
    [data-theme="light"] .repo-card{background:var(--card);box-shadow:0 1px 3px rgba(0,0,0,0.1);}
    .repo-card:hover{transform:translateY(-2px);border-color:var(--accent);box-shadow:0 8px 25px rgba(0,0,0,0.15);}
    .repo-card h4{margin:0 0 8px 0;color:var(--accent);font-size:16px;}
    .repo-card p{margin:0 0 8px 0;font-size:13px;color:var(--muted);line-height:1.4;}
    .repo-stats{display:flex;gap:12px;font-size:12px;color:var(--muted);}
    .repo-stat{display:flex;align-items:center;gap:4px;}
    
    /* Loading */
    .loading{text-align:center;color:var(--muted);padding:20px;font-style:italic;}
    .loading::after{content:'';display:inline-block;width:16px;height:16px;border:2px solid var(--muted);
                    border-radius:50%;border-top-color:transparent;animation:spin 1s linear infinite;margin-left:8px;}
    @keyframes spin{to{transform:rotate(360deg);}}
    
    /* Buttons */
    .btn{display:inline-block;margin-top:8px;border:1px solid var(--border);padding:8px 12px;border-radius:10px;
         transition:all 0.2s ease;cursor:pointer;background:transparent;color:var(--text);text-decoration:none;}
    .btn:hover{border-color:var(--hover);background:rgba(255,255,255,0.05);transform:translateY(-1px);}
    .btn-primary{background:var(--accent);border-color:var(--accent);color:white;}
    .btn-primary:hover{background:color-mix(in srgb, var(--accent) 80%, white);transform:translateY(-1px);}
    
    /* Footer */
    footer{margin:28px 0;color:var(--muted);font-size:12px;text-align:center;opacity:0.8;}
    .small{font-size:12px;color:#9ca3af}
    
    /* Responsive */
    @media (max-width:540px){ 
      .name{font-size:18px} 
      .stats-bar{grid-template-columns:repeat(2,1fr);}
      .theme-toggle{position:relative;margin-top:10px;}
      header{flex-wrap:wrap;}
    }
    
    /* Accessibility */
    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after { animation-duration: 0.01ms !important; animation-iteration-count: 1 !important; transition-duration: 0.01ms !important; }
    }
  </style>
</head>
<body data-theme="dark">
  <div class="container">
    <header>
      <div class="avatar"><span>JT</span></div>
      <div>
        <div class="name">James Totah</div>
        <div class="muted">TPM ‚Ä¢ Crypto & Data Platforms ‚Ä¢ San Jose, CA</div>
      </div>
      <button class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle theme">
        <span id="theme-icon">üåô</span>
      </button>
    </header>

    <!-- Live Stats -->
    <div class="stats-bar">
      <div class="stat-item">
        <span class="stat-number" id="visitor-count">‚Äî</span>
        <span class="stat-label">Visitors Today</span>
      </div>
      <div class="stat-item">
        <span class="stat-number" id="github-repos-count">‚Äî</span>
        <span class="stat-label">GitHub Repos</span>
      </div>
      <div class="stat-item">
        <span class="stat-number" id="years-experience">5+</span>
        <span class="stat-label">Years Experience</span>
      </div>
      <div class="stat-item">
        <span class="stat-number" id="last-updated-time">‚Äî</span>
        <span class="stat-label">Last Updated</span>
      </div>
    </div>

    <section class="card" id="about">
      <h2>About</h2>
      <p class="small">Principal Technical Program Manager with 5+ years experience leading platform initiatives in crypto and data infrastructure. Passionate about building scalable systems that drive business impact.</p>
      <a class="btn" href="https://totah.xyz">‚Üê Back to family hub</a>
    </section>

    <section class="card" id="resume">
      <h2>Resume</h2>
      <div class="resume-item">
        <div class="left">
          <strong>Principal Technical Program Manager</strong>
          <span class="small">Chainalysis ‚Äî Compliance & Data Platform</span>
        </div>
        <div class="right small">2023 ‚Äî Present</div>
      </div>
      <div class="resume-item">
        <div class="left">
          <strong>Senior TPM</strong>
          <span class="small">Atlassian ‚Äî Platform (Data, API, Streaming)</span>
        </div>
        <div class="right small">2018 ‚Äî 2023</div>
      </div>
      <p class="small">Download my complete resume with detailed experience and achievements:</p>
      <p>
        <a class="btn btn-primary" href="#" onclick="generateResumePDF()" id="resume-download-btn">
          üìÑ Download PDF Resume
        </a>
        <span class="small" style="margin-left: 12px; opacity: 0.7;">Auto-generated ‚Ä¢ Always up-to-date</span>
      </p>
      <div class="skills">
        <div class="chip">Kubernetes</div>
        <div class="chip">Databricks</div>
        <div class="chip">Kafka</div>
        <div class="chip">Flink</div>
        <div class="chip">AWS</div>
        <div class="chip">API Platforms</div>
        <div class="chip">Program Strategy</div>
        <div class="chip">Technical Leadership</div>
      </div>
    </section>

    <!-- Dynamic GitHub Projects -->
    <section class="card" id="projects">
      <h2>Recent GitHub Projects</h2>
      <div id="github-repos" class="github-repos">
        <div class="loading">Loading latest repositories...</div>
      </div>
    </section>

    <section class="card" id="links">
      <h2>Links</h2>
      <div class="links">
        <a class="link" href="https://www.linkedin.com/in/jamestotah" target="_blank" rel="noopener">
          <svg class="icon" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
            <path d="M4.98 3.5C4.98 4.88 3.87 6 2.5 6S0 4.88 0 3.5 1.12 1 2.5 1s2.48 1.12 2.48 2.5zM.5 8h4V24h-4V8zm7 0h3.8v2.2h.1c.5-1 1.8-2.2 3.8-2.2 4 0 4.8 2.6 4.8 6V24h-4v-7.2c0-1.7 0-3.8-2.3-3.8s-2.7 1.8-2.7 3.7V24h-4V8z"/>
          </svg>
          <span>LinkedIn</span>
        </a>
        <a class="link" href="https://www.instagram.com/" target="_blank" rel="noopener">
          <svg class="icon" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
            <path d="M7 2C4.24 2 2 4.24 2 7v10c0 2.76 2.24 5 5 5h10c2.76 0 5-2.24 5-5V7c0-2.76-2.24-5-5-5H7zm10 2a3 3 0 013 3v10a3 3 0 01-3 3H7a3 3 0 01-3-3V7a3 3 0 013-3h10zm-5 3a5 5 0 100 10 5 5 0 000-10zm6-2a1 1 0 100 2 1 1 0 000-2z"/>
          </svg>
          <span>Instagram</span>
        </a>
        <a class="link" href="https://github.com/jamestotah" target="_blank" rel="noopener">
          <svg class="icon" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
            <path d="M12 .5C5.73.5.96 5.27.96 11.54c0 4.85 3.15 8.96 7.5 10.41.55.1.75-.24.75-.53v-1.87c-3.05.66-3.7-1.45-3.7-1.45-.5-1.27-1.22-1.61-1.22-1.61-.99-.68.08-.67.08-.67 1.1.08 1.69 1.12 1.69 1.12.98 1.68 2.58 1.2 3.21.92.1-.71.38-1.2.7-1.48-2.44-.27-5-1.22-5-5.45 0-1.2.43-2.18 1.13-2.95-.11-.28-.49-1.4.11-2.92 0 0 .92-.3 3.02 1.13a10.5 10.5 0 015.5 0c2.1-1.43 3.02-1.13 3.02-1.13.6 1.52.22 2.64.11 2.92.7.77 1.13 1.75 1.13 2.95 0 4.24-2.56 5.18-5 5.45.39.33.74.97.74 1.96v2.9c0 .29.19.64.75.53 4.35-1.45 7.5-5.56 7.5-10.41C23.04 5.27 18.27.5 12 .5z"/>
          </svg>
          <span>GitHub</span>
        </a>
        <a class="link" href="mailto:jt@totah.xyz">
          <svg class="icon" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
            <path d="M2 4h20v16H2z" fill="none" stroke="currentColor"/><path d="M2 4l10 9L22 4"/>
          </svg>
          <span>Email</span>
        </a>
      </div>
    </section>

    <footer>
      <div>¬© <span id="year"></span> James Totah ‚Ä¢ Built with modern web technologies</div>
    </footer>
  </div>

  <script>
    // Theme Management
    function toggleTheme() {
      const body = document.body;
      const themeIcon = document.getElementById('theme-icon');
      const currentTheme = body.getAttribute('data-theme');
      
      if (currentTheme === 'dark') {
        body.setAttribute('data-theme', 'light');
        themeIcon.textContent = '‚òÄÔ∏è';
        localStorage.setItem('theme', 'light');
      } else {
        body.setAttribute('data-theme', 'dark');
        themeIcon.textContent = 'üåô';
        localStorage.setItem('theme', 'dark');
      }
    }

    // Load saved theme
    function loadTheme() {
      const savedTheme = localStorage.getItem('theme') || 'dark';
      const body = document.body;
      const themeIcon = document.getElementById('theme-icon');
      
      body.setAttribute('data-theme', savedTheme);
      themeIcon.textContent = savedTheme === 'dark' ? 'üåô' : '‚òÄÔ∏è';
    }

    // Dynamic GitHub Repositories
    async function loadGitHubRepos() {
      try {
        console.log('Loading GitHub repositories...');
        const response = await fetch('https://api.github.com/users/jamestotah/repos?sort=updated&per_page=6');
        
        if (!response.ok) {
          throw new Error(`HTTP error! status: ${response.status}`);
        }
        
        const repos = await response.json();
        console.log('Loaded repos:', repos.length);
        
        // Update repo count in stats
        document.getElementById('github-repos-count').textContent = repos.length;
        
        const reposContainer = document.getElementById('github-repos');
        
        if (repos.length === 0) {
          reposContainer.innerHTML = '<p class="loading">No public repositories found.</p>';
          return;
        }
        
        reposContainer.innerHTML = repos.map(repo => `
          <div class="repo-card" onclick="window.open('${repo.html_url}', '_blank')">
            <h4>${repo.name}</h4>
            <p>${repo.description || 'No description available'}</p>
            <div class="repo-stats">
              <span class="repo-stat">‚≠ê ${repo.stargazers_count}</span>
              <span class="repo-stat">üç¥ ${repo.forks_count}</span>
              ${repo.language ? `<span class="repo-stat">üìù ${repo.language}</span>` : ''}
              <span class="repo-stat">üìÖ ${new Date(repo.updated_at).toLocaleDateString()}</span>
            </div>
          </div>
        `).join('');
      } catch (error) {
        console.error('Error loading GitHub repositories:', error);
        document.getElementById('github-repos').innerHTML = `
          <p class="loading" style="color: #ef4444;">
            Unable to load repositories. Please check back later.
          </p>
        `;
        document.getElementById('github-repos-count').textContent = '‚Äî';
      }
    }

    // Live Statistics
    function updateStats() {
      // Simulate visitor count (in real app, this would come from analytics)
      const baseVisitors = 47;
      const randomVisitors = Math.floor(Math.random() * 20);
      document.getElementById('visitor-count').textContent = baseVisitors + randomVisitors;
      
      // Update timestamp
      const now = new Date();
      const timeString = now.toLocaleTimeString('en-US', { 
        hour12: false, 
        hour: '2-digit', 
        minute: '2-digit' 
      });
      document.getElementById('last-updated-time').textContent = timeString;
    }

    // PDF Resume Generation
    function generateResumePDF() {
      const btn = document.getElementById('resume-download-btn');
      const originalText = btn.innerHTML;
      
      // Show generating state
      btn.innerHTML = '‚è≥ Generating PDF...';
      btn.style.pointerEvents = 'none';
      
      // Simulate PDF generation (in real app, this would generate actual PDF)
      setTimeout(() => {
        // Create a simple resume data object
        const resumeData = {
          name: 'James Totah',
          title: 'Principal Technical Program Manager',
          location: 'San Jose, CA',
          email: 'jt@totah.xyz',
          experience: [
            {
              title: 'Principal Technical Program Manager',
              company: 'Chainalysis',
              department: 'Compliance & Data Platform',
              period: '2023 ‚Äî Present',
              achievements: [
                'Led technical strategy for compliance platform serving 1000+ enterprise clients',
                'Managed cross-functional teams of 20+ engineers across multiple time zones',
                'Delivered 40% improvement in data processing performance through architectural optimization'
              ]
            },
            {
              title: 'Senior Technical Program Manager',
              company: 'Atlassian',
              department: 'Platform (Data, API, Streaming)',
              period: '2018 ‚Äî 2023',
              achievements: [
                'Architected microservices platform handling 100M+ API requests daily',
                'Led migration to Kubernetes, reducing infrastructure costs by 30%',
                'Implemented real-time streaming pipeline processing 50TB+ daily'
              ]
            }
          ],
          skills: ['Kubernetes', 'Databricks', 'Kafka', 'Flink', 'AWS', 'API Platforms', 'Program Strategy', 'Technical Leadership']
        };
        
        // In a real application, you'd use a PDF generation library like jsPDF
        // For now, we'll create a downloadable text version
        const resumeText = `
JAMES TOTAH
${resumeData.title}
${resumeData.location} | ${resumeData.email}

EXPERIENCE

${resumeData.experience.map(job => `
${job.title}
${job.company} ‚Äî ${job.department}
${job.period}

${job.achievements.map(achievement => `‚Ä¢ ${achievement}`).join('\n')}
`).join('\n')}

SKILLS
${resumeData.skills.join(' ‚Ä¢ ')}

Generated on ${new Date().toLocaleDateString()}
        `.trim();
        
        // Create and download the file
        const blob = new Blob([resumeText], { type: 'text/plain' });
        const url = window.URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = 'James-Totah-Resume.txt';
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        window.URL.revokeObjectURL(url);
        
        // Reset button
        btn.innerHTML = '‚úÖ Downloaded!';
        setTimeout(() => {
          btn.innerHTML = originalText;
          btn.style.pointerEvents = 'auto';
        }, 2000);
      }, 1500);
    }

    // Smooth scrolling for internal links
    function initSmoothScrolling() {
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute('href'));
          if (target) {
            target.scrollIntoView({
              behavior: 'smooth',
              block: 'start'
            });
          }
        });
      });
    }

    // Enhanced animations on scroll
    function initScrollAnimations() {
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.style.animationDelay = '0s';
            entry.target.style.animationFillMode = 'forwards';
          }
        });
      }, { threshold: 0.1 });

      document.querySelectorAll('.card').forEach(card => {
        observer.observe(card);
      });
    }

    // Initialize everything when page loads
    document.addEventListener('DOMContentLoaded', function() {
      console.log('Initializing enhanced portfolio...');
      
      // Load theme
      loadTheme();
      
      // Set current year
      document.getElementById('year').textContent = new Date().getFullYear();
      
      // Load GitHub repos
      loadGitHubRepos();
      
      // Start stats updates
      updateStats();
      setInterval(updateStats, 30000); // Update every 30 seconds
      
      // Initialize smooth scrolling
      initSmoothScrolling();
      
      // Initialize scroll animations
      initScrollAnimations();
      
      console.log('Portfolio initialized successfully!');
    });

    // Add keyboard navigation for accessibility
    document.addEventListener('keydown', function(e) {
      if (e.key === 't' && (e.ctrlKey || e.metaKey)) {
        e.preventDefault();
        toggleTheme();
      }
    });
  </script>
</body>
</html>